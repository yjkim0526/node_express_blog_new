<div class="container mt-5">
  <form class="row" method="POST" id="frm">
    <input type="hidden" name="id" id="id" value="<%=data._id%>" />
    <input type="hidden" name="mode" id="mode" />
    <div class="mb-3 m-10">
      <label for="title" class="form-label">Title</label>
      <input
        type="text"
        class="form-control"
        name="title"
        id="title"
        placeholder="title"
        value="<%=data.title%>"
      />
    </div>
    <div class="mb-3">
      <label for="content" class="form-label">Content</label>
      <textarea class="form-control" name="content" id="content" rows="12">
				<%= data.content %>
			</textarea
      >
    </div>
    <div class="d-flex justify-content-center">
      <button class="btn btn-dark" id="btnEdit">edit</button>
      <button class="btn btn-dark" id="btnDel">del</button>
      <a href="/list" class="btn btn-dark" id="btnList">목록</a>
    </div>
  </form>
</div>
<script>
  let frm = document.querySelector("#frm");
  let btnAdd = document.querySelector("#btnAdd");
  let btnEdit = document.querySelector("#btnEdit");
  let btnDel = document.querySelector("#btnDel");
  let id = document.querySelector("#id");
  let mode = document.querySelector("#mode");
  console.log(">> id : " + id.value);

  btnEdit.addEventListener("click", (e) => {
    e.preventDefault();
    if (confirm("수정 하시겠습니까?")) {
      mode.value = "edit";
      frm.action = `/edit/${id}`;
      frm.submit();
    }
    return false;
  });

  btnDel.addEventListener("click", (e) => {
    e.preventDefault();
    if (confirm("정말 삭제 하시겠습니까?")) {
      mode.value = "del";
      frm.action = `/edit/${id}`;
      frm.submit();
    }
    return false;
  });
</script>
